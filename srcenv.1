.\" Automatically generated by Pandoc 3.5
.\"
.TH "SRCENV" "1" "November 2024" "srcenv 1.3.0" "General Commands Manual"
.SH NAME
\f[B]srcenv\f[R] \[em] cross\-shell tool for sourcing POSIX compliant
\&.env scripts
.SH SYNOPSIS
.PP
\f[B]srcenv\f[R] [\f[I]options\f[R]] [\f[I]files\f[R]]
.PD 0
.P
.PD
\f[B]srcenv\f[R]
[\f[B]\-h\f[R]|\f[B]\-\-help\f[R]|\f[B]\-v\f[R]|\f[B]\-\-version\f[R]]
.SH DESCRIPTION
srcenv takes a snapshot of the POSIX shell environment, sources the .env
scripts and prints a script exporting the environment variables that
have changed since the snapshot, for one of the following shells:
.IP
.EX
bash, csh/tcsh, dash, elvish, fish, murex, nushell, powershell, zsh
.EE
.PP
srcenv depends on jq(1) being available; see \c
.UR https://jqlang.github.io/jq/
.UE \c
\ for installation options.
.SS Options
.TP
\-\-ash
Format the output as an Ash script.
.TP
\-\-bash
Format the output as a Bash script.
.TP
\-\-bat, \-\-cmd
Format the output as a Windows batch script.
.TP
\-\-csh, \-\-tcsh
Format the output as a Csh/Tcsh script.
.TP
\-\-dash
Format the output as a Dash script.
.TP
\-\-elvish
Format the output as an Elvish script.
.TP
\-\-env
Format the output as a .env file.
.TP
\-\-fish
Format the output as a Fish script.
.TP
\-\-json
Format the output as JSON.
.TP
\-\-ksh, \-\-pdksh
Format the output as a Ksh script.
.TP
\-\-murex
Format the output as a Murex script.
.TP
\-\-launchctl
Format the output as a launchctl calls (macOS).
.TP
\-\-nu, \-\-nushell
Format the output as a Nushell script.
.TP
\-\-posix, \-\-sh
Format the output as a POSIX shell script.
.TP
\-\-pwsh, \-\-powershell
Format the output as a PowerShell script.
.TP
\-\-zsh
Format the output as a Zsh script.
.TP
\-f FORMAT, \-f=FORMAT, \-\-format FORMAT, \-\-format=FORMAT
Format the output as anything (jq interpolated string).
For details, see FORMAT section below.
.TP
\-
Source from STDIN.
.TP
\-a ARG, \-a=ARG, \-\-arg ARG, \-\-arg=ARG
Source from string value of ARG.
.TP
\-b, \-\-backup
Backup changes in SRCENV_UNDO for undo.
.TP
\-u, \-\-undo
Undo backed up changes from SRCENV_UNDO.
.TP
\-e, \-\-export
Export all variables (Default for .env/.envrc files).
.TP
\-l, \-\-local
Do not export all variables.
.TP
\-s, \-\-sort
Sort the environment variables alphabetically (Default).
.TP
\-U, \-\-unsorted
Keep the environment variables unsorted.
.TP
\-h, \-\-help
Display help and exit.
.TP
\-v, \-\-version
Display the version number and exit.
.SH EXAMPLES
The following examples show how to source \f[CR].env\f[R] in different
shells:
.TP
Bash:
\f[CR]source <(srcenv \-\-bash .env)\f[R]
.TP
Fish:
\f[CR]srcenv \-\-fish .env | source\f[R]
.TP
PowerShell:
\f[CR]Invoke\-Expression (&srcenv \-\-pwsh .env)\f[R]
.TP
Zsh:
\f[CR]source <(srcenv \-\-zsh .env)\f[R]
.SH FORMAT
The format is a jq(1) interpolated string
\f[CR]\[ga]\f[R]\[rs](\&...)\f[CR]\[ga]\f[R] where the key is
\f[CR]\[ga]\f[R]$k\f[CR]\[ga]\f[R], and the value
\f[CR]\[ga]\f[R].[$k]\f[CR]\[ga]\f[R].
A second interpolated string can be appended with the
\f[CR]\[ga]\f[R]??\f[CR]\[ga]\f[R] delimiter to format null values
\f[I](unset environment variables)\f[R].
.TP
Key:
\f[CR]\[rs]($k)\f[R]
.TP
Value:
\f[CR]\[rs](.[$k])\f[R]
.TP
Single quoted value:
\f[CR](.[$k]|\[at]sh)\f[R]
.TP
Double quoted value:
\f[CR](.[$k]|\[at]json)\f[R]
.TP
Default format:
\f[CR]\[rs]($k)=\[rs](.[$k]|\[at]sh)??\[rs]($k)=\f[R]
.SH SEE ALSO
Repository: https://github.com/ins0mniaque/srcenv
.PP
\f[B]sh(1)\f[R], \f[B]jq(1)\f[R]
.SH AUTHOR
Jean\-Philippe Leconte \c
.MT ins0mniaque@gmail.com
.ME \c
.SH BUGS
See GitHub Issues: https://github.com/ins0mniaque/srcenv/issues
